# 用户

## 个人信息

nickname：可以随时更改，不同用户可以拥有相同的nickname

id：一经确认不支持更改，不同用户不可以拥有相同的id，仅支持数字和字母，区分字母大小写。

签名：不限制长度，一般外显最多2行

注册时间：格林威治时间，根据用户的语言和地区显示为对应的时间，对外显示模糊时间

ACG 数量：用户的ACG 数量是公开的。

avatar: 头像

其中id在用户注册后不会立刻要求用户填写，此时对外也不会展示，不过会显示address

## 注册和登录

初始注册用户为1万，后续注册都需要通过注册码。注册码需要通过ACG 兑换。

输入私钥或者公钥加签名的方式注册。后续可以通过地址加签名的方式登录。

注册时需要传递公钥和签名，登录时需要传递id 和签名。

### 认证协议

使用自定义的认证方式，scheme 为“Custom”。

如果认证失败会返回

>WWW-Authenticate: Custom {data}

客户端请求时发送

>Authorization: Custom id={}, sig={}

签名格式为DER。 和数据库中存储时格式相同。

用户在客户端输入的既可以输入PEM 或者DER字符串。

公钥和私钥使用secp256r1 的ECDSA 算法生成，与以太坊使用算法相同。
address使用Keccak-256 生成，与以太坊规则相同。

现有的钱包都不再提供公钥，无法实现消息加密的功能。

## 系统认证

系统：创建初始社区，一般无其他用途。

机器人：主要用于发布系统消息。

管理员：管理社区环境。

此认证如Hats 中的第三方认证不同。 此处的管理员也不等同于社区内部的管理员。
